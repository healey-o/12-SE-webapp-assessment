{% extends 'base.html' %}

{% block title %}StudySpheres: Sign Up{% endblock %}

{% block heading %}Sign Up{% endblock %}

{% block content %}
    <div class="columns is-centered">
        <form action="/signup" method="POST" class="box column is-half" id="signup-form">
            <div class="field">
                <label for="username-signup" class="label">Username</label>
                <input id="username-signup" class="input" type="text" name="username-signup" placeholder="e.g. JohnSmith123" />
            </div>
            {% if "username_taken" in errors %}
                <p class="help is-danger">Username is already taken.</p>
            {% endif %}
            {% if "username_length" in errors %}
                <p class="help is-danger">Username cannot be more than 50 characters long.</p>
            {% endif %}

            <br>
            
            <div class="field">
                <label for="password-signup" class="label">Password</label>
                <input id="password-signup" class="input" type="password" name="password-signup" placeholder="********" />
            </div>
            <svg width="100" height="3" viewBox="0 0 100 3" style="width:100%">
                <rect x="0" y="0" width="100" height="100" fill="#226" />
                <rect x="0.5" y="0.5" width="{{ 99*password_score/100 if password_score else 0 }}" height="2" fill="red" />
            </svg>
            {% if 'password_security' in errors %}
                <p class="help is-danger">{{ password_feedback }}</p>
            {% endif %}

            <div class="field">
                <label for="password_confirm" class="label">Confirm Password</label>
                <input id="password-confirm" class="input" type="password" name="password-confirm" placeholder="********" />
            </div>

            {% if "match_password" in errors %}
                <p class="help is-danger">Passwords do not match.</p>
            {% endif %}
            
            <br>
            {% if "empty_field" in errors %}
                <p class="help is-danger">Please fill in all fields.</p>
                <br>
            {% endif %}

            
            <input type="submit" value="Sign Up" class="button is-primary">
        </form>
    </div>
    <p class="has-text-centered ">Already have an account? <a href="/login">Log in here!</a></p>
{% endblock %}